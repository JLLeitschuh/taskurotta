<div>
    <table width="100%" class="well">
        <tr>
            <td style="text-align: left; padding:10px;">
                <h4>List of all processes</h4>
            </td>
            <td style="text-align: right;"><a class="btn btn-link" ng-click="back()">Back</a></td>
        </tr>
    </table>

    <div class="well" style="margin:5px;">
        <div style="float: right;">
            <img id="loading" src="/img/ajax-loader.gif" style="display: none;"/>
            <a class="btn btn-small" ng-click="update()" popover="Refresh list" popover-trigger="mouseenter"><i class="icon-refresh"></i></a>
        </div>
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <th style="width: 40px;">â„–</th>
                <th>Process id</th>
                <th>Start task</th>
                <th>Custom id</th>
                <th>Start time</th>
                <th>End time</th>
            </thead>

            <tfoot>
            <td colspan="6">
                <div tsk-paginator generic-page="processesPage" update-action="update()"></div>
            </td>
            </tfoot>

            <tbody>
            <tr ng-if="!initialized">
                <td colspan="6" style="text-align: center;"><img src="/img/ajax-loader.gif"/></td>
            </tr>
            <tr ng-repeat="process in processesPage.items">
                <td>
                    {{getStartIndex(processesPage.pageNumber, processesPage.pageSize) + $index}}
                </td>
                <td>
                    <a class="btn btn-link"
                       ng-href="#/processes/process?processId={{process.processId}}"><small>{{process.processId}}</small></a>
                </td>
                <td>
                    <a ng-href="#/processes/task?processId={{process.processId}}&taskId={{process.startTaskId}}" class="btn btn-link"><small>{{process.startTaskId}}</small></a>
                </td>
                <td>
                    <small><b>{{process.customId}}<b><small>
                </td>
                <td>
                    <small>{{process.startTime | date:'dd-MM-yyyy HH:mm:ss'}}</small>
                </td>
                <td>
                    <small>{{process.endTime | date:'dd-MM-yyyy HH:mm:ss'}}</small>
                </td>

            </tr>
            </tbody>
        </table>
        <div>Total: <b>{{processesPage.totalCount}}</b> processes</div>
    </div>

</div>
