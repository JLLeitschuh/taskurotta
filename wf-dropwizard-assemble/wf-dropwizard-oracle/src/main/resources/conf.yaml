#Location of Spring application context:
contextLocation: "classpath*:context/applicationContext.xml, classpath*:context/console-context.xml"

#Used for static resource serving in development mode
assets:
  overrides:
    /: ../../wf-dropwizard/src/main/resources/assets/

#Configuration of actors served by this server:
actorConfig:
  actorPreferences:

    #applied if actorId not found in config when searching for timeoutPolicy - just for config simplifications
    - id: "default"
      queueName: "default"
      timeoutPolicies:
        TASK_START_TO_CLOSE: "TIMEOUT: 10 SECONDS" #TIMEOUT: prefix can be used to specify simple timeouts (template: "TIMEOUT: <int> <TimeUnit>")

    #wf-example/calculate actors
    - id: "ru.taskurotta.example.calculate.worker.Multiplier#1.0"
      queueName: "qb$multiplier"
    - id: "ru.taskurotta.example.calculate.worker.NumberGenerator#1.0"
      queueName: "qb$number_generator"
    - id: "ru.taskurotta.example.calculate.worker.Summarizer#1.0"
      queueName: "qb$summarizer"
    - id: "ru.taskurotta.example.calculate.decider.MathActionDecider#1.0"
      queueName: "qb$math_action_decider"
#fir workers
#    - id: "ru.fccland.fir.FirDecider#1.0"
#      queueName: "qb$fir_decider"
#    - id: "ru.fccland.fir.gkn.GknFirRequestDecider#1.0"
#      queueName: "qb$gkn_fir_request_decider"
#    - id: "ru.fccland.fir.worker.RequestXmlParser#1.0"
#      queueName: "qb$request_xml_parser"
#    - id: "ru.fccland.fir.worker.RequestWorker#1.0"
#      queueName: "qb$request_worker"
#    - id: "ru.fccland.fir.worker.RequestPreprocessingWorker#1.0"
#      queueName: "qb$req_preproc_wkr"
#    - id: "ru.fccland.fir.worker.ResponsePreprocessingWorker#1.0"
#      queueName: "qb$resp_preproc_wkr"
#    - id: "ru.fccland.fir.worker.CadNumbersWorker#1.0"
#      queueName: "qb$cad_numbers_wkr"

#Task server common properties (will be available as placeholders in spring context):
properties:
  db.url: "jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=ora1-vip.fccland.ru)(PORT=1531))(ADDRESS=(PROTOCOL=TCP)(HOST=ora2-vip.fccland.ru)(PORT=1531)))(CONNECT_DATA=(SERVICE_NAME=testext)))"
  db.user: "taskurotta"
  db.password: "taskurotta"
  db.validating: true  #validate queues existence in DB
  db.autocreating: true #auto create new queues in DB if there are no explicitly configured

#Http server configuration:
logging:
    level: WARN
    loggers:
        ru.taskurotta: DEBUG
        ru.taskurotta.console: INFO
        ru.taskurotta.server.recovery: DEBUG
        com.yammer: INFO
    file:
        enabled: true
        archive: true
        currentLogFilename: ./target/logs/service.log
        archivedLogFilenamePattern: ./target/logs/service-%d.log.gz
http:
    rootPath: "/rest/*"
    gzip:
        enabled: false
    requestLog:
        file:
            enabled: true
            archive: true
            currentLogFilename: ./target/logs/requests.log
            archivedLogFilenamePattern: ./target/logs/requests-%d.log.gz

#config can be extended here
#http://dropwizard.codahale.com/manual/core/#configuration-defaults