# Сборка мусора

В процессе работы данные по задачам и процессам становятся не нужными и их необходимо удалять. Это освобождает базы данных от лишней информации на дисковом пространстве, в индексах и уменьшает размер кэшей. Как следствие - повышается быстродействие системы.

## Удаление завершенных и удаленных процессов

После автоматического завершения процесса или после ручного его удаления система будет ожидать необходимое количество времени перед окончательным удалением информации о процессе из системы.

|  Параметр                              | Значение по умолчанию | Описание |
| -----------                            | ----------- | ----------- |
| gc.process.finished.wait-before-delete | 0 seconds   | Период времени для завершенных процессов |
| gc.process.aborted.wait-before-delete   | 1 days      | Период времени для процессов удаленных вручную через консоль |
| gc.pool-size                           | 1           | Количество потоков |
| gc.enabled                             | true        | Флаг включения\выключения всех задач сбора мусора |

## Чистка завершенных и отмененных процессов

Удаление завершенных процессов происходит асинхронно. Данные о процессах которые нужно удалить хранятся в оперативном хранилище (mongodb) которое может быть очищено и данные потеряны. В следствии этого могут остаться процессы в статусе завершенные или отмененные в основном транзакционном хранилище данных и никогда не будут удалены оттуда. Для периодической чистки этой информации выполняется их поиск и отправка в очередь на удаление. Поиск осуществляется с 30 минутной задержкой относительно параметров gc.process.finished.wait-before-delete и gc.process.aborted.wait-before-delete.

|  Параметр | Значение по умолчанию | Описание |
| ------------  | -----------  | ----------- |
| gc.lost-process.find-timeout | 1 hours | Периодичность запуска задачи |
| gc.lost-process.enabled  | true | Флаг включения\выключения задачи |
[Параметры настройки]
