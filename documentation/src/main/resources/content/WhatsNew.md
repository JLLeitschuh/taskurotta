## Версии

#### 11.1.1

**Улучшения:**

* **добавлено прямое взаимодействие актеров и сервера**: для увеличения скорости взаимодействия и уменьшения потребляемых ресурсов актеры получают информацию об узле кластера владельце очереди их задач и об узле владельце процесса, что позволяет им обращаться к ним напрямую.
* **Hazelcast 3.6.2**: обновление системы до последней версии hazelcast.
* **Толерантность актеров к отсутствию сервера**: доработан механизм обработки ошибок актерами, в том числе при сбое коммуникации с сервером. Добавлены настройки sleepOnServerErrorTime и suppressActorErrorTime. Подробнее в документации

**Исправления:**

* **Оптимизация списка актеров**: исправление ошибок, поддержка работы в кластере, увеличение скорости сбора информации и ее отображения.

#### 11.0.1

**Улучшения:**

* **управление timeout выполнения задачи**: добавлена возможность менять таймаут выполнения задачи с помощью координатора или непосредственно актером во время ее выполнения.

#### 10.9.2

**Улучшения:**

* **Карточка актера**: добавлена карточка актера содержащая всю информацию о его очередях и метриках. С метрик по ссылкам можно перейти сразу к графикам. Везде полный идентификатор актера стал ссылкой на карточку.
* **Убрана страница со списком актеров**: Страница списка очередей переименована в список актеров. Туда же переехала функция блокировки актера. 
* **Блокировка актера а не всех актеров по типу**: Изменился функционал блокировки. Сейчас блокируется актер а не все актеры конкретного типа с разными task list как было ранее.
* **Отображение времени**: дата и время последнего события по метрикам заменено на отображение интервала. Для просмотра точной даты и времени необходимо навести курсор мыши на интервал.
* **Статус актера**: введены вычисляемые статусы актера: активный, не активный и заблокированный. Статусы отображаются на карточки актера. В списке актеров заблокированные и не активные выделяются цветом. Не активным актер считается если не приходил за задачами выше настроенного порога времени - аналогично сервису NotPollingQueueCountResource.

**Исправления:**

* **Отложенные задачи**: не отображалось их количество в списке актеров.
* **Блокировка**: не блокировались актеры с task list.

**Совместимость:**

* **Не будут правильно считаться метрики**: метрики по событию release задачи используют actorId передаваемый актером. В ранних версиях в этот id не входил task list. Необходимо обновление актеров до текущей версии taskurotta.

**Известные проблемы:**

* **Консоль не вся работает в кластере**: карточка актера и возможно что-то еще не корректно может работать в кластере считывая информацию только с одного узла. Доработка и оптимизация бэкенда консоли будет в следующей версии.

#### 10.8.2

**Улучшения:**

* **Модернизирована карточка процесса**: добавлена кнопка отмены процесса и добавлена автоматическая отмена процесса при его рестарте (клонирование). Теперь эта последовательность шагов называется restart процесса. Под капотом рестарт идет через клонирование и отмену старого процесса.
* **Обновлена страница сломанных задач**: починены ошибки, улучшена навигация
* **Добавлена карточка актера**: будет содержать всю статистическую и текущую информацию по актерам. Содержать ссылки для быстрого перехода на графики. Сейчас содержит минимум. И доступна только из списка актеров. Далее будет на всех страницах ссылкой на идентификаторе актера.
* **e2e tests**: добавлена возможность запускать end to end тесты для уменьшения регресса при разработке.
* **Обновление библиотек**: docker-composer 1.6 и kotlin 1.0.0.

**Исправления:**

* **Форматирование stack trace**: приведено к консольному виду с переносами и моношрифтом. На карточке задачи и списке сломанных задач.

#### 10.7

**Исправления:**

* Отмененные процессы не удалялись при сборке мусора.

#### 10.5

**Улучшения:**

* **Hazelcast 3.5.5**: обновление системы до последней версии hazelcast.
* **Добавлен раздел документации в консоль**: документация является частью проекта и должна обновлятся вместе с ним. Чтобы наверстать упущенное - вводится обязательное требование для разработчиков по описанию нового или изменяемого функционала. Остальное описываем по мере необходимости. Подробности в разделе **Формирование документации**. 
* **Автоматическое тестирование в кластере**: автоматическое тестирование теперь проходит в кластерной конфигурации с помощью docker контейнеров.
* **docker-composer для разработки**: добавлены две конфигурации для разработки актеров и для внесения изменений в систему. Находятся в директории docker-compose - server.sh и server_dev.sh соответственно.

**Исправления:**

* При рестарте задачи она может быть удалена из списка сломанных, а рестарта не произойдет. Задача может быть не найдена  в опреративном хранилище. Теперь процессы к которым принадлежат задачи будут перезапущены с начала.
* Из лога убраны системные и отладочные сообщения.
* Убраны потенциальные коллизии при изменении сущностей процесса. Теперь они выполняются без конкуренции, после блокировки на сущности Process.
* При рестарте сервера или при потере данных в оперативном хранилище запланированные к удалению процессы могли не удалиться.
* Подавлена ошибка возникающая при одновременном удалении процесса и получении задачи одним из его актеров.
* Требования к пакету util понижены до java 1.6
* Сервис очередей теперь может работать без оперативного хранилища - держа все в памяти.