#Location of Spring application context:
#Hazelcast without mongo mapstore
contextLocation: "classpath*:spring/hz.xml"

#Configuration of actors served by this server:
actorConfig:
  actorPreferences:
    - id: "default"

#Task server common properties (will be available as placeholders in spring context):
properties:
  pollDelay: 10
  pollDelayUnit: "SECONDS"
  hz.mancenter.enabled: true
  hz.jmx.detailed: true
  hz.jmx: true
  mongo.host: localhost
  mongo.port: 27017
  schedule.job.store.shared: true
  schedule.job.store.dir: "./job_store"

server:
  type: default
  requestLog:
      timeZone: UTC
      appenders:
      - type: file
        currentLogFilename: "./target/logs/request.log"
        threshold: ALL
        archive: true
        archivedLogFilenamePattern: "./target/logs/requests-%d.log.gz"
        archivedFileCount: 5
        timeZone: UTC
        logFormat: "%-4r %d [%t] %-5p %c - %m%n"
      - type: console
        threshold: ALL
        timeZone: UTC
        target: stdout
        logFormat: "%-4r %d [%t] %-5p %c - %m%n"

#Http server configuration:
logging:
    level: INFO
    loggers:
        com.hazelcast: INFO
        ru.taskurotta: INFO
        ru.taskurotta.dropwizard.resources.console: DEBUG
        ru.taskurotta.service.hz.console: DEBUG
#        ru.taskurotta.service.metrics.handler: DEBUG
#        ru.taskurotta.service.metricstalistener TRACE
#        ru.taskurotta.service.metricstrics: TRACE
#        ru.taskurotta.service.recovery: TRACE
#        ru.taskurotta.service.recovery: DEBUG
#        ru.taskurotta.service.hz.support: DEBUG
#        ru.taskurotta.service.hz.recovery: TRACE
#        ru.taskurotta.service.hz.dependency: DEBUG
#        ru.taskurotta.dropwizard.server.core: INFO
#        ru.taskurotta.server: INFO
#        ru.taskurotta.dropwizard.hz: INFO
#        ru.taskurotta.service.hz.server: INFO
#        ru.taskurotta.service.hz.server.HazelcastTaskServer$ProcessDecisionUnitOfWork: INFO
        com.yammer: INFO
    appenders:
    - type: file
      currentLogFilename: "./target/logs/service.log"
      threshold: ALL
      archive: true
      archivedLogFilenamePattern: "./target/logs/service-%d.log.gz"
      archivedFileCount: 5
      timeZone: UTC
      logFormat: "%-4r %d [%t] %-5p %c - %m%n"

#http:
#    rootPath: "/rest/*"
#    gzip:
#        enabled: false
#    requestLog:
#        file:
#            enabled: false
#            archive: true
#            currentLogFilename: ./target/logs/requests.log
#            archivedLogFilenamePattern: ./target/logs/requests-%d.log.gz


#config can be extended here
#http://dropwizard.codahale.com/manual/core/#configuration-defaults